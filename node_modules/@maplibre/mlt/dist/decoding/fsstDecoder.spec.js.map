{"version":3,"file":"fsstDecoder.spec.js","sourceRoot":"","sources":["../../src/decoding/fsstDecoder.spec.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,QAAQ,EAAE,EAAE,EAAE,MAAM,EAAc,MAAM,QAAQ,CAAC;AAC1D,OAAO,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;AAE3C,QAAQ,CAAC,kBAAkB,EAAE,GAAG,EAAE;IAC9B,EAAE,CAAC,8CAA8C,EAAE,GAAG,EAAE;QACpD,6BAA6B;QAC7B,8BAA8B;QAC9B,8BAA8B;QAC9B,yBAAyB;QACzB,MAAM,OAAO,GAAG,IAAI,UAAU,CAAC,CAAC,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC,CAAC,CAAC;QAErF,MAAM,aAAa,GAAG,IAAI,WAAW,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAEjD,mBAAmB;QACnB,yBAAyB;QACzB,yBAAyB;QACzB,8CAA8C;QAC9C,qBAAqB;QACrB,MAAM,cAAc,GAAG,IAAI,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;QAE1D,MAAM;QACN,MAAM,MAAM,GAAG,UAAU,CAAC,OAAO,EAAE,aAAa,EAAE,cAAc,CAAC,CAAC;QAElE,SAAS;QACT,MAAM,QAAQ,GAAG,IAAI,UAAU,CAAC;YAC5B,EAAE;YACF,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG,EAAE,UAAU;YACf,EAAE;YACF,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG,EAAE,UAAU;YACf,EAAE,EAAE,cAAc;YAClB,EAAE,EAAE,MAAM;SACb,CAAC,CAAC;QAEH,MAAM,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QAEjC,wBAAwB;QACxB,MAAM,aAAa,GAAG,IAAI,WAAW,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QACvD,MAAM,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;IAC/C,CAAC,CAAC,CAAC;AACP,CAAC,CAAC,CAAC","sourcesContent":["import { describe, it, expect, beforeEach } from \"vitest\";\nimport { decodeFsst } from \"./fsstDecoder\";\n\ndescribe(\"Test fsstDecoder\", () => {\n    it(\"should decode FSST compressed data correctly\", () => {\n        // Setup: Create symbol table\n        // Symbol 0: \"Hello\" (5 bytes)\n        // Symbol 1: \"World\" (5 bytes)\n        // Symbol 2: \"!\" (1 byte)\n        const symbols = new Uint8Array([72, 101, 108, 108, 111, 87, 111, 114, 108, 100, 33]);\n\n        const symbolLengths = new Uint32Array([5, 5, 1]);\n\n        // Compressed data:\n        // 0 = Symbol 0 (\"Hello\")\n        // 1 = Symbol 1 (\"World\")\n        // 255, 32 = Literal byte 32 (space character)\n        // 2 = Symbol 2 (\"!\")\n        const compressedData = new Uint8Array([0, 1, 255, 32, 2]);\n\n        // Act\n        const result = decodeFsst(symbols, symbolLengths, compressedData);\n\n        // Assert\n        const expected = new Uint8Array([\n            72,\n            101,\n            108,\n            108,\n            111, // \"Hello\"\n            87,\n            111,\n            114,\n            108,\n            100, // \"World\"\n            32, // \" \" (space)\n            33, // \"!\"\n        ]);\n\n        expect(result).toEqual(expected);\n\n        // Verify decoded string\n        const decodedString = new TextDecoder().decode(result);\n        expect(decodedString).toBe(\"HelloWorld !\");\n    });\n});\n"]}
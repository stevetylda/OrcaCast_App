{"version":3,"file":"vector.js","sourceRoot":"","sources":["../../src/vector/vector.ts"],"names":[],"mappings":"AAEA,MAAM,CAAC,OAAO,OAAgB,MAAM;IAKX;IACE;IALb,iBAAiB,CAAmB;IACpC,KAAK,CAAS;IAExB,YACqB,KAAa,EACX,UAAa,EAChC,uBAA2C;QAF1B,UAAK,GAAL,KAAK,CAAQ;QACX,eAAU,GAAV,UAAU,CAAG;QAGhC,IAAI,OAAO,uBAAuB,KAAK,QAAQ,EAAE,CAAC;YAC9C,IAAI,CAAC,KAAK,GAAG,uBAAuB,CAAC;QACzC,CAAC;aAAM,CAAC;YACJ,IAAI,CAAC,iBAAiB,GAAG,uBAAuB,CAAC;YACjD,IAAI,CAAC,KAAK,GAAG,uBAAuB,CAAC,IAAI,EAAE,CAAC;QAChD,CAAC;IACL,CAAC;IAED,QAAQ,CAAC,KAAa;QAClB,OAAO,IAAI,CAAC,iBAAiB,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;IAChH,CAAC;IAED,GAAG,CAAC,KAAa;QACb,OAAO,CAAC,IAAI,CAAC,iBAAiB,IAAI,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC;IACpG,CAAC;IAED,IAAI,IAAI;QACJ,OAAO,IAAI,CAAC,KAAK,CAAC;IACtB,CAAC;IAED,IAAI,IAAI;QACJ,OAAO,IAAI,CAAC,KAAK,CAAC;IACtB,CAAC;CAGJ","sourcesContent":["import type BitVector from \"./flat/bitVector\";\n\nexport default abstract class Vector<T extends ArrayBufferView = ArrayBufferView, K = unknown> {\n    protected nullabilityBuffer: BitVector | null;\n    protected _size: number;\n\n    constructor(\n        private readonly _name: string,\n        protected readonly dataBuffer: T,\n        sizeOrNullabilityBuffer: number | BitVector,\n    ) {\n        if (typeof sizeOrNullabilityBuffer === \"number\") {\n            this._size = sizeOrNullabilityBuffer;\n        } else {\n            this.nullabilityBuffer = sizeOrNullabilityBuffer;\n            this._size = sizeOrNullabilityBuffer.size();\n        }\n    }\n\n    getValue(index: number): K | null {\n        return this.nullabilityBuffer && !this.nullabilityBuffer.get(index) ? null : this.getValueFromBuffer(index);\n    }\n\n    has(index: number): boolean {\n        return (this.nullabilityBuffer && this.nullabilityBuffer.get(index)) || !this.nullabilityBuffer;\n    }\n\n    get name(): string {\n        return this._name;\n    }\n\n    get size(): number {\n        return this._size;\n    }\n\n    protected abstract getValueFromBuffer(index: number): K;\n}\n"]}